<!DOCTYPE html>
<html>
<head>
	<title>Javascript Matching Game</title>
	

	
	


	<style >
	    div {
	    	position: absolute;
	    	width: 500px;
	    	height: 500px;
	    }
	    img {
	    	position: absolute;
	    }

	    #rightSide {
	    	left:500px;
	    	border-left: 1px solid black;
	    }

	</style>

	<h1>Matching Game</h1>
	<p>Click on the extra similing face on the left.</p>
</head>


<body onload= "game()">

<div id="leftSide"></div>

<div id="rightSide"></div>


<script >


 function game()
 {
		  var numberOfFaces = 5;
	    var theLeftSide = document.getElementById("leftSide");
	    var theRightSide = document.getElementById("rightSide");
      var theBody = document.getElementsByTagName("body")[0];  
      
        

    function generateFaces() 
    {
      	for ( var i=0;i < numberOfFaces;i++) 
      	{
      		

          img = document.createElement("img");

      		img.src="smile.png";
      		
      		img.src="http://home.cse.ust.hk/~rossiter/mooc/matching_game/smile.png";

      		img.style.top=String(Math.floor(Math.random()*400))+"px";
            
          img.style.left=String(Math.floor(Math.random()*400))+"px";
            

            theLeftSide.appendChild(img); 
        }
       
        theLeftSideImages=theLeftSide.cloneNode(true);
        theLeftSideImages.removeChild(theLeftSideImages.lastChild);
        theRightSide.appendChild(theLeftSideImages);

        theLeftSide.lastChild.onclick=nextLevel;
    };
      
        
        
    

    function nextLevel(event) 
    { 
            while (theLeftSide.firstChild)
                  theLeftSide.removeChild(theLeftSide.firstChild);
            while (theRightSide.firstChild)
                  theRightSide.removeChild(theRightSide.firstChild);

            event.stopPropagation();
            numberOfFaces += 5; 
            generateFaces();
    };
           
        

         

        

  theBody.onclick = function gameOver() 
 {
    alert("Game Over!");20
    theBody.onclick = null;
    theLeftSide.lastChild.onclick = null;
                
        
    var r = confirm("Would you like to play again?");
    if (r == true)
    {
      window.location.reload(false); 
    }
  }              


      

     generateFaces();    
}

     
        
	</script>




</body>
</html>